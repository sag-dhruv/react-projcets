{"ast":null,"code":"import _objectSpread from\"/home/lenovo/Desktop/30_days_React/weather/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/lenovo/Desktop/30_days_React/weather/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/lenovo/Desktop/30_days_React/weather/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/lenovo/Desktop/30_days_React/weather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"../styles/weather.css\";import DisplayWeather from\"./DisplayWeather\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Weather=function Weather(){var APIKey=\"f2ddfd1c1973498d7be0986c081b574e\";var _useState=useState({city:\"\",country:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(form.city==\"\")){_context.next=5;break;}alert(\"Add city\");_context.next=9;break;case 5:_context.next=7;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(form.city,\",\").concat(form.country,\"&appid=\").concat(APIKey)).then(function(response){return response.json();}).then(function(data){return data;});case 7:data=_context.sent;setWeather({data:data});case 9:case\"end\":return _context.stop();}},_callee);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;if(name==\"city\"){setForm(_objectSpread(_objectSpread({},form),{},{city:value}));}if(name==\"country\"){setForm(_objectSpread(_objectSpread({},form),{},{country:value}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"weather\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"Weather App\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",placeholder:\"city\",onChange:function onChange(e){return handleChange(e);}}),\"\\xA0 \\xA0 \\xA0 \\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"country\",placeholder:\"country code\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"getweather\",onClick:function onClick(e){return fetchData(e);},children:\"Submit\"})]}),weather.data!=undefined?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DisplayWeather,{data:weather.data})}):null]});};export default Weather;","map":{"version":3,"names":["React","useState","DisplayWeather","jsx","_jsx","jsxs","_jsxs","Weather","APIKey","_useState","city","country","_useState2","_slicedToArray","form","setForm","_useState3","_useState4","weather","setWeather","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","data","wrap","_callee$","_context","prev","next","preventDefault","alert","fetch","concat","then","response","json","sent","stop","_x","apply","arguments","handleChange","name","target","value","_objectSpread","className","children","type","placeholder","onChange","onClick","undefined"],"sources":["/home/lenovo/Desktop/30_days_React/weather/src/components/Weather.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../styles/weather.css\";\nimport DisplayWeather from \"./DisplayWeather\";\n\nconst Weather = () => {\n  const APIKey = \"f2ddfd1c1973498d7be0986c081b574e\";\n  const [form, setForm] = useState({\n    city: \"\",\n    country: \"\",\n  });\n  const [weather, setWeather] = useState([]);\n\n  const fetchData = async (e) => {\n    e.preventDefault();\n\n    if (form.city == \"\") {\n      alert(\"Add city\");\n    } else {\n      const data = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?q=${form.city},${form.country}&appid=${APIKey}`\n      )\n        .then((response) => response.json())\n        .then((data) => data);\n\n      setWeather({ data: data });\n    }\n  };\n\n  const handleChange = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n\n    if (name == \"city\") {\n      setForm({ ...form, city: value });\n    }\n\n    if (name == \"country\") {\n      setForm({ ...form, country: value });\n    }\n  };\n\n  return (\n    <div className=\"weather\">\n      <span className=\"title\">Weather App</span>\n      <br />\n      <form>\n        <input\n          type=\"text\"\n          name=\"city\"\n          placeholder=\"city\"\n          onChange={(e) => handleChange(e)}\n        />\n        &nbsp; &nbsp; &nbsp; &nbsp;\n        <input\n          type=\"text\"\n          name=\"country\"\n          placeholder=\"country code\"\n          onChange={(e) => handleChange(e)}\n        />\n        <button className=\"getweather\" onClick={(e) => fetchData(e)}>\n          Submit\n        </button>\n      </form>\n      {weather.data != undefined ? (\n        <div>\n          <DisplayWeather data={weather.data} />\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Weather;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}